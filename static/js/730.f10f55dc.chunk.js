"use strict";(self.webpackChunkmodular_ui_components_app=self.webpackChunkmodular_ui_components_app||[]).push([[730],{7462:function(e,t,n){function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},4403:function(e,t,n){n.r(t),n.d(t,{initModularCreator:function(){return f}});var r=n(7313),o=n(6352),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasError:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.getDerivedStateFromError=function(e){return{hasError:!0}},t.prototype.componentDidCatch=function(e,t){this.setState({hasError:!0})},t.prototype.render=function(){return this.state.hasError?(window.document.title="Error",this.props.fallback||r.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"}},r.createElement("div",{style:{margin:"auto"}},r.createElement("button",{style:{fontSize:"3rem",padding:"1rem"},className:"error-button",onClick:function(){window.location.reload()}},"Try again")))):this.props.children},t}(r.Component),c=function(e){var t=e.creatorConfig,n=e.children,o=t.content,a=t.header,i=t.footer;return r.createElement("div",{id:"app-container",style:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden",position:"relative"}},a&&r.createElement("header",{style:{position:"relative",top:"0",right:"0",left:"0",width:"100%"}},r.createElement(a,null)),n,o&&r.createElement(o,null),i&&r.createElement("footer",{style:{width:"100%",bottom:"0",left:"0",right:"0"}},r.createElement(i,null)))},u=function(e){var t=e.creatorConfig,n=e.store,a=e.externalComponents,i=e.internalComponents;return r.createElement(o.zt,{store:n},a.map((function(e,o){return r.createElement("div",{key:"plugin_".concat(o,"_external_component")},r.createElement(e,{creatorConfig:t,store:n}))})),r.createElement(c,{creatorConfig:t},r.createElement("div",{style:{height:"100%",overflow:"auto",width:"100%"}},i.map((function(e,o){return r.createElement("div",{key:"plugin_".concat(o,"_internal_component")},r.createElement(e,{creatorConfig:t,store:n}))})))))},p=function(e){var t=e.creatorConfig,n=e.store,o=e.externalComponents,a=e.internalComponents,i=t.preloader;return r.createElement(r.Suspense,{fallback:i?r.createElement(i,null):r.createElement("div",null)},r.createElement(l,{fallback:t.error},n?r.createElement(u,{store:n,creatorConfig:t,internalComponents:a,externalComponents:o}):r.createElement(c,{creatorConfig:t})))},f=function(e){var t,n,o,a={},l=[],c=[];if(e&&(t=e.store,n=e.creatorConfig,a=i(i({},o=n||{}),{core:o.core||{},plugins:o.plugins||[]}),e.engineConfig,t)){var u=function(e,t){var n,r=i({},e),o=r.plugins,a={},l={},c=[],u=[],p=[];return o.forEach((function(e){if(e.feature&&"modular-creator-plugin"===e.type){a[e.feature]={};var t=e();if(t.field){var n=t.field(r);n&&n.name&&(l[e.feature]=n.name,a[e.feature]=n.content,r[n.name]=n.content||{})}t.internalComponent&&u.push(t.internalComponent),t.externalComponent&&c.push(t.externalComponent),t.before&&p.push(t.before)}})),(null===(n=null==t?void 0:t.core)||void 0===n?void 0:n.modularCreatorInteractions)&&t.core.modularCreatorInteractions.forEach((function(e){a[e.plugin]&&l[e.plugin]&&(r[l[e.plugin]]=e.effect(a[e.plugin],t),a[e.plugin]=r[l[e.plugin]])})),p.forEach((function(e){return e(r)})),{externalComponents:c,internalComponents:u,engineConfig:t,creatorConfig:r}}(a,e.engineConfig);c=u.externalComponents,l=u.internalComponents,a=u.creatorConfig}return{App:r.createElement(p,{store:t,creatorConfig:a,internalComponents:l,externalComponents:c}),config:a}}}}]);